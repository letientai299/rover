import{j as t,e as _,r as p}from"./app-wXXRkJhG.js";import{T}from"./Tooltip-Bjcgh1hr.js";import"./Float-BvH9ZVtZ.js";function u(n,r){let e=0,s=n.length;for(;e<s;){const o=Math.floor((e+s)/2),i=n[o];if(r(i)){s=o;continue}e=o+1}return e}const w="_decoratedText_1bo97_1",v="_segment_1bo97_1",y={decoratedText:w,segment:v};function b(n){return n.name!==void 0}const d=n=>{const{text:r,decorations:e,...s}=n,o=e===void 0?[]:Array.isArray(e)?e:[e],i=M(r,o);return t.jsx("div",{className:y.decoratedText,...s,children:i})},m=(n,r)=>{const e=n.indexOf(r);return{kind:"match",range:e>=0?[e,e+r.length]:[0,0]}},a={match:m,error:(n,r)=>({...m(n,r),kind:"error"}),warn:(n,r)=>({...m(n,r),kind:"warn"}),mnemonic:(n,r)=>{if(r.length!==1)throw new Error("'mnemonic' must be exactly one character'");return{...m(n,r),kind:"mnemonic"}}},j=(n,r)=>{const[e,s]=r.range,[o,i]=n.range,c=[...n.kinds,r.kind];return e<=o&&i<=s?[{range:n.range,kinds:c}]:o<e&&s<i?[{range:[o,e],kinds:n.kinds},{range:[e,s],kinds:c},{range:[s,i],kinds:n.kinds}]:i<=s?[{range:[o,e],kinds:n.kinds},{range:[e,i],kinds:c}]:[{range:[o,s],kinds:c},{range:[s,i],kinds:n.kinds}]};function M(n,r){if(r===void 0||r.length===0)return t.jsx(k,{text:n});let e=[{range:[0,n.length],kinds:[]}];for(let s of r){const[o,i]=s.range;if(o>=i)continue;const c=u(e,l=>{const[x,h]=l.range;return o<h}),g=u(e,l=>{const[x,h]=l.range;return i<x})-1;e=[...e.slice(0,c),...j(e[c],s),...e.slice(c+1,g).map(l=>({range:l.range,kinds:[...l.kinds,s.kind]})),...c!==g&&g<e.length?j(e[g],s):[],...e.slice(g+1,e.length)]}return e.map(s=>t.jsx(k,{text:n.slice(s.range[0],s.range[1]),kinds:s.kinds},JSON.stringify(s.range)))}const k=n=>{const{text:r,kinds:e=[]}=n;return e.reduce((s,o)=>{const{name:i,className:c="",...g}=b(o)?o:{name:o};return t.jsx("span",{"data-decoration-kind":i,className:_(y.segment,c),...g,children:s})},t.jsx(t.Fragment,{children:r}))},C="_hint_t71px_1",D={hint:C};function N(){const n="This is a long string to test the decorations",r=s=>{const o=n.indexOf(s);return[o,o+s.length]},e=p.useId();return t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:8},children:[t.jsx("strong",{children:"Normal"})," ",t.jsx(d,{text:n}),t.jsx("strong",{children:"Match"}),t.jsx(d,{text:n,decorations:a.match(n,"string x")}),t.jsx("strong",{children:"Mnemonic"}),t.jsx(d,{text:n,decorations:a.mnemonic(n,"h")}),t.jsx("strong",{children:"Error"}),t.jsx(d,{text:n,decorations:a.error(n,"string")}),t.jsx("strong",{children:"Warn"}),t.jsx(d,{text:n,decorations:a.warn(n,"string")}),t.jsx("strong",{children:"Multi and overlapping decorations"}),t.jsx(d,{text:n,decorations:[a.match(n,"This"),a.error(n,"long"),a.warn(n,"string"),a.warn(n,"deco"),a.match(n,"deco"),a.mnemonic(n,"T"),a.error(n,"decoration")]}),t.jsx("strong",{children:"Custom style using class name"}),t.jsx(d,{text:n,decorations:{range:r("a long string"),kind:{name:"custom",className:D.hint}}}),t.jsx("strong",{children:"Custom style using inline style"}),t.jsx(d,{text:n,decorations:{range:r("a long string"),kind:{name:"custom",style:{border:"1px solid red"}}}}),t.jsx("strong",{children:"Custom interactive (tooltip on hover)"}),t.jsx(d,{text:n,decorations:{range:r("a long string"),kind:{name:"custom",style:{border:"1px solid green"},id:e}}}),t.jsx(T,{place:"bottom",anchor:e,children:"Hi there"})]})}function f(n){const r={h1:"h1",...n.components};return t.jsxs(t.Fragment,{children:[t.jsx(r.h1,{children:"Decorated Text"}),`
`,t.jsx(N,{})]})}function A(n={}){const{wrapper:r}=n.components||{};return r?t.jsx(r,{...n,children:t.jsx(f,{...n})}):f(n)}export{N as Demo,A as default};
