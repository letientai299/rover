import{r as h,j as f,e as X}from"./app-wXXRkJhG.js";const Y="_split_1wi9z_1",A="_divider_1wi9z_5",L="_line_1wi9z_19",x={split:Y,divider:A,line:L},E="separator",F=o=>{const{style:u,className:l,direction:d,children:s,...i}=o,c=d==="vertical",g=h.useRef(null),m=h.useRef({pair:null}),w=h.useRef({pos:null}),y=h.useCallback(e=>[...e.children].filter(t=>t.role!==E),[]),z=()=>m.current.pair&&w.current.pos,D=()=>{const e=g.current;e&&y(e).forEach(t=>{const n=t,r=window.getComputedStyle(n);c?n.style.width=r.width:n.style.height=r.height,n.style.flexGrow="0"})},_=e=>{if(!z())return;const t=m.current.pair,n=w.current.pos,r=c?e.screenX-n.X:e.screenY-n.Y;t.aSize-r<0||t.bSize+r<0||(w.current.pos={X:e.screenX,Y:e.screenY},t.aSize=t.aSize-r,t.bSize=t.bSize+r,c?(t.a.style.width=`${t.aSize}px`,t.b.style.width=`${t.bSize}px`):(t.a.style.height=`${t.aSize}px`,t.b.style.height=`${t.bSize}px`))},C=()=>{const e=g.current;if(!e)return;const t=k(e,c);y(e).forEach(n=>{const r=n,a=window.getComputedStyle(r),M=S(c?a.width:a.height)*100/t;r.style.flexGrow=`${M}`,c?r.style.width="0":r.style.height="0"}),m.current.pair=null,w.current.pos=null},j=(e,t)=>{const n=t.nextElementSibling,r=t.previousElementSibling,a=window.getComputedStyle(n),p=window.getComputedStyle(r);m.current.pair={a:n,aSize:S(c?a.width:a.height),b:r,bSize:S(c?p.width:p.height)},w.current.pos=e,D()},v=h.useCallback(()=>{if(!g.current||!Array.isArray(s))return;const e=y(g.current).reduce((n,r)=>{const a=r,p=a.style;return p.flexGrow===""?(n.newElems.push(a),n):(n.currentGrowSum+=parseFloat(p.flexGrow),n)},{newElems:[],currentGrowSum:0}),t=s.length===e.newElems.length?100/s.length:e.currentGrowSum/(s.length-e.newElems.length);e.newElems.forEach(n=>{n.style.flexGrow=`${t}`,c?n.style.width="0":n.style.height="0"})},[s,y,c]);h.useLayoutEffect(v,[v]);const b=e=>{e.button===0&&(e.stopPropagation(),e.preventDefault(),C())},G=e=>{z()&&b(e)},$=e=>{z()&&b(e)},R=N(s,c,j);return f.jsx("div",{ref:g,style:u,...i,className:X(x.split,l),"data-split-direction":d,onMouseUp:G,onMouseLeave:$,onMouseMove:_,children:R})};function N(o,u,l){const d=Array.isArray(o)?o:[o];return d.map((s,i)=>["function","object"].includes(typeof s)?s:f.jsx("div",{children:s},`split-element-${i}`)).flatMap((s,i)=>[s,f.jsx(P,{direction:u?"vertical":"horizontal",startDragging:l},`split-divider-after-element-${i}`)]).splice(0,d.length*2-1)}const P=o=>{const{startDragging:u,direction:l,...d}=o,s=i=>{i.button===0&&(u({X:i.screenX,Y:i.screenY},i.currentTarget),i.preventDefault(),i.stopPropagation())};return f.jsx("div",{onMouseDown:s,tabIndex:0,className:x.divider,"data-direction":l,role:E,...d,children:f.jsx("div",{className:x.line})})},k=(o,u)=>{const l=window.getComputedStyle(o);return S(u?l.width:l.height)},S=o=>parseFloat(o.replace("px",""));export{F as S};
